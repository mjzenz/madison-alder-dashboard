---
title: "Madison Common Council Voting Record"
format: html
editor: visual
---

```{r}
#| label: loaddata
#| echo: false
#| warning: false
#| message: false

library(tidyverse)
library(kableExtra)

load("alder_data_processed.RData")

```

## % YIMBY Voting Record of Current Alders, 2023-25 term

```{r}
#| label: tbl-YIMBY_percentage
#| tbl-cap: Percentage of contested votes by active alders that were pro-housing (YIMBY).
#| echo: false
#| warning: false
#| message: false
kableExtra::kable(YIMBY.prop, "html") |>
  kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))



```

## All Housing Votes, 2023-25 term

```{r}
#| label: tbl-all-votes
#| tbl-cap: Contested votes of active alders, listed by their district. YIMBY votes in blue, anti-YIMBY votes in red.
#| echo: false
#| warning: false
#| message: false



    kable(YIMBY.vote.list, "html", escape = FALSE) %>%
  column_spec(6,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`1` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`1` == "N"))
                               | is.na(YIMBY.vote.list$`1`)  , "blue", "red")) %>%
  column_spec(7,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`2` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`2` == "N"))
                               | is.na(YIMBY.vote.list$`2`)  , "blue", "red")) %>%
  column_spec(8,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`3` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`3` == "N"))
                               | is.na(YIMBY.vote.list$`3`)  , "blue", "red")) %>%
 column_spec(9,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`4` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`4` == "N"))
                               | is.na(YIMBY.vote.list$`4`)  , "blue", "red")) %>%
  column_spec(10,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`5` == "Y") |
                             (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`5` == "N"))
                           | is.na(YIMBY.vote.list$`5`)  , "blue", "red")) %>%
  column_spec(11,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`6` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`6` == "N"))
                               | is.na(YIMBY.vote.list$`6`)  , "blue", "red")) %>%
  column_spec(12,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`7` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`7` == "N"))
                               | is.na(YIMBY.vote.list$`7`)  , "blue", "red")) %>%
  column_spec(13,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`8` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`8` == "N"))
                               | is.na(YIMBY.vote.list$`8`)  , "blue", "red")) %>%
  column_spec(14,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`9` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`9` == "N"))
                               | is.na(YIMBY.vote.list$`9`)  , "blue", "red")) %>%
        column_spec(15,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`10` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`10` == "N"))
                               | is.na(YIMBY.vote.list$`10`)  , "blue", "red")) %>%
        column_spec(16,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`11` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`11` == "N"))
                               | is.na(YIMBY.vote.list$`11`)  , "blue", "red")) %>%
        column_spec(17,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`12` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`12` == "N"))
                               | is.na(YIMBY.vote.list$`12`)  , "blue", "red")) %>%
        column_spec(18,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`13` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`13` == "N"))
                               | is.na(YIMBY.vote.list$`13`)  , "blue", "red")) %>%
        column_spec(19,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`14` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`14` == "N"))
                               | is.na(YIMBY.vote.list$`14`)  , "blue", "red")) %>%
        column_spec(20,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`15` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`15` == "N"))
                               | is.na(YIMBY.vote.list$`15`)  , "blue", "red")) %>%
        column_spec(21,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`16` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`16` == "N"))
                               | is.na(YIMBY.vote.list$`16`)  , "blue", "red")) %>%
        column_spec(22,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`17` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`17` == "N"))
                               | is.na(YIMBY.vote.list$`17`)  , "blue", "red")) %>%
        column_spec(23,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`18` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`18` == "N"))
                               | is.na(YIMBY.vote.list$`18`)  , "blue", "red")) %>%
       column_spec(24,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`19` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`19` == "N"))
                               | is.na(YIMBY.vote.list$`19`)  , "blue", "red")) %>%
       column_spec(25,color = ifelse(((YIMBY.vote.list$YIMBY & YIMBY.vote.list$`20` == "Y") |
                                 (!YIMBY.vote.list$YIMBY & YIMBY.vote.list$`20` == "N"))
                               | is.na(YIMBY.vote.list$`20`)  , "blue", "red")) %>%
  kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))



```



<!-- ```{r} -->
<!-- #| label: tbl-all-votes2 -->
<!-- #| tbl-cap: Contested votes of active alders, listed by their district. YIMBY votes in blue, anti-YIMBY votes in red. -->
<!-- #| echo: false -->
<!-- #| warning: false -->
<!-- #| message: false -->



<!-- library(kableExtra) -->

<!-- kable(YIMBY.vote.list, "html", escape = FALSE) %>% -->
<!--   # Loop over columns 6 to 25 -->
<!--   purrr::reduce(6:25, ~ .x %>%  -->
<!--               column_spec(.y,  -->
<!--               color = ifelse( -->
<!--               ((YIMBY.vote.list$YIMBY & YIMBY.vote.list[[as.character(.y)]] == "Y") | -->
<!--               (!YIMBY.vote.list$YIMBY & YIMBY.vote.list[[as.character(.y)]] == "N")) | -->
<!--                                   is.na(YIMBY.vote.list[[as.character(.y)]]),  -->
<!--                                 "blue", "red")), .init = .) %>% -->
<!--   kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) -->


<!-- ``` -->


## Methodology

The "YIMBY voting scale" is intended to be an objective measure of the pro-housing alignment of Madison Common Council Members. However, you should be highly skeptical of any measure that purportes to be "objective," because every measure of attitudes requires some value judgements. Our measure is no different! When evaluating a vote we employ maximalist YIMBY criteria, even though this is not necessarily how we would vote: Housing developments should always be approved if they meet minimal standards for safety and functionality; all zoning that prevents the most housing possible from being built should always be eliminated; transportation policy should promote car-free living (or at least the ability to live without a car). All alder votes relevant to YIMBY issues are weighted equally, with votes on particular amendments or motions of an issue averaged together so that an issue doesn't get more weight because it was voted on multiple times.    


